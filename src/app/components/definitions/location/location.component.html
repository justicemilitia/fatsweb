<div class="az-content">
    <div class="container">
      <div class="az-content-body">
        <!-- <div class="az-content-breadcrumb">
          <span>Table</span>
          <span>DataTables</span>
        </div> -->
        <h2 class="az-content-title">Lokasyonlar</h2>
        <div class="col-md-2 btnAddLocation-right">
          <button
            class="btn btn-orange btn-block btnAddLocation-height"
            id="btnAddLocation"
            data-toggle="modal"
            data-target="#modalLocation"
            (click)="loadLocations()"
          >Lokasyon Ekle
          </button>
        </div>
        <p class="mg-b-20"></p>
  
        <table class="tree-table">        
        <thead>
            <tr>
                <th class="tree-table-sign"><span class="typcn icon-default typcn-cog-outline"></span></th>
                <th (click)="doOrder('Name')">Lokasyon Adı <span class="{{TGT_getOrderSign(order,'Name')}}"></span>
                <th (click)="doOrder('Barcode')">Lokasyon Barkodu <span class="{{TGT_getOrderSign(order,'Barcode')}}"></span></th>
                <th (click)="doOrder('Coordinate')">Koordinat <span class="{{TGT_getOrderSign(order,'Coordinate')}}"></span>
                <th (click)="doOrder('ParentLocation.Name')">Bağlı Olduğu Lokasyon <span class="{{TGT_getOrderSign(order,'ParentLocation.Name')}}"></span></th>
                <th (click)="doOrder('Description')">Açıklama <span class="{{TGT_getOrderSign(order,'Description')}}"></span></th>
            </tr>
          </thead>
          <tbody>
              <tr>
                  <td></td>
                  <td>
                      <input type="text" placeholder="Lokasyon Adı" class="form-control" [(ngModel)]="filter.Name">
                  </td>
                  <td>
                      <input type="text" placeholder="Lokasyon Barkodu" class="form-control" [(ngModel)]="filter.Barcode">
                  </td>
                  <td>
                      <input type="text" placeholder="Koordinat" class="form-control" [(ngModel)]="filter.Coordinate">
                  </td>
                  <td>
                      <input type="text" placeholder="Bağlı Olduğu Lokasyon" class="form-control" [(ngModel)]="filter.ParentLocation.Name">
                  </td>
                  <td>
                      <input type="text" placeholder="Açıklama" class="form-control" [(ngModel)]="filter.Desription">
                  </td>
                </tr>
                <tr *ngFor="let data of dataSource">
                  <td class="tree-table-sign">
                    <span (click)=doCollapse(data) class='{{TGT_getSign(data)}}'></span> 
                  </td>
                  <td>{{data.Name}}</td>
                  <td>{{data.Barcode}}</td>
                  <td>{{data.Coordinate}}</td>
                  <td>{{(data.ParentLocation) ? data.ParentLocation.Name : '' }}</td>
                  <td>{{data.Description}}</td>
                </tr>
          </tbody>
        </table>
      </div>
      <!-- az-content-body -->
    </div>
  </div>
  <!-- az-content -->
  <app-footer></app-footer>
  
  <div id="modalLocation" class="modal">
    <div class="modal-dialog" role="document">
      <div class="modal-content modal-content-demo">
        <div class="modal-header">
          <h6 class="modal-title model-title-center">Yeni lokasyon oluşturmak için aşağıdaki alanları doldurunuz.</h6>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-label="Close"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <!-- <h6>Yeni lokasyon oluşturmak için aşağıdaki alanları doldurunuz.</h6> -->
          <form #data="ngForm" (ngSubmit)="insertLocation(data)" class="form-register">
              <div class="row">
                  <div class="col-sm-6">                
                  <label>*Lokasyon Barkodu</label>
                  <input type="text" id="Barcode" ngModel name="Barcode" required class="form-control txt-width" value=""/>
                  <!-- <span class="help-block" *ngIf="registerForm.get('password').hasError('required')">Soyisim gereklidir.</span>                 -->
                </div>
                <div class="col-sm-6">
                    <label>*Lokasyon Adı</label>
                    <input type="text" id="Name" ngModel name="Name" required class="form-control txt-width" value=""/>
                    <!-- <span class="help-block" *ngIf="registerForm.get('password').hasError('required')">İsim gereklidir.</span> -->
                  </div>
              </div>
              <!-- form-group -->
              <div class="row">
                <div class="col-sm-6">
                  <label>Bağlı Olduğu Location</label>
                  <select  id="ParentLocationId" ngModel name="ParentLocationId" class="form-control txt-width" value="">
                      <option value="">Seçiniz</option>
                      <option value="">Yok</option>
                      <option *ngFor="let location of locations" value={{location.LocationId}}>
                        {{location.Name}}
                      </option>   
                  </select>
                </div>
                <div class="col-sm-6">
                    <label>Koordinat</label>
                    <input type="text" id="Coordinate" ngModel name="Coordinate" class="form-control txt-width" value=""/>
                    <!-- <span class="help-block" *ngIf="registerForm.get('password').hasError('required')">Soyisim gereklidir.</span>                 -->
                  </div>
                 </div>
              <!-- form-group -->
              <div class="row">
                <label class="txt-margin">Açıklama</label>
                <input type="text" id="Description" ngModel name="Description" class="form-control txt-width txt-margin" value=""/>
                <!-- <span class="help-block" *ngIf="registerForm.get('password').hasError('required')">Soyisim gereklidir.</span>                 -->
              </div>
            <!-- form-group -->

            <div class="modal-footer">
                <button class="btn btn-orange btn-block btn-height" id="btnCreateLocation" type="submit" data-toggle="modal" data-target="#modalInsertLocation">Lokasyon Ekle</button>       
              </div>
          </form>
        </div>
      </div>
    </div>
    <!-- modal-dialog -->
  </div>
  <!-- modal -->
  
