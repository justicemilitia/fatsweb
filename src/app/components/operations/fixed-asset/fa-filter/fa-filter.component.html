<div class="modal-header">
  <h6 class="modal-title">Filtrelenecek alanları belirleyiniz.</h6>
  <button id="CloseModal" type="button" class="close" data-dismiss="modal" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>

<form name="form" #data="ngForm" (ngSubmit)="FilterFixedAsset(data)">
    <div class="modal-body" style="width:900px;">

   <div class="row justify-content-center">
      <div class="col-md-12 form-group">   
        <fieldset class="field_set">
          <legend class="fieldset_text">Genel Bilgiler</legend>
            <!-- BARKOD, DEMİRBAŞ ADI, KATEGORİ -->
            <div class="row justify-content-center">

              <!-- BARKOD -->
              <div class="col-md-4 form-group">
                <label>Barkod</label>
                <input [(ngModel)]="fixedAsset.Barcode" name="Barcode" type="text" class="form-control" />
              </div>

              <!-- DEMİRBAŞ ADI -->
              <div class="col-md-4 form-group">
                <label>Demirbaş Adı</label>
                <ng-multiselect-dropdown [placeholder]="'Seçiniz'" 
                [data]="fixedAssetCards" [(ngModel)]="fixedAsset.FixedAssetCardId"
                name="FixedAssetCardId" [settings]="dropdownSettingsForCard" (onSelect)="onSelectFixedAssetCard($event)"
                (onSelectAll)="onSelectAllFixedAssetCard($event)">
              </ng-multiselect-dropdown>
              </div>

              <!-- KATEGORİ -->
              <div class="col-md-4 form-group">
                  <label>Kategori</label>
                    <ng-multiselect-dropdown [placeholder]="'Seçiniz'" 
                    [data]="fixedassetcategories" [(ngModel)]="fixedAsset.FixedAssetCardCategoryId"
                    name="FixedAssetCardCategoryId" [settings]="dropdownSettingsForCategory" (onSelect)="onSelectCategory($event)"
                    (onSelectAll)="onSelectAllCategory($event)">
                  </ng-multiselect-dropdown>
              </div>

            </div>
            
            <!-- DEPARTMAN, MARKA, DEMİRBAŞ STATÜSÜ -->
            <div class="row justify-content-center">

                <!-- DEPARTMAN -->
                <div class="col-md-4 form-group">
                  <label>Departman</label>
                  <ng-multiselect-dropdown [placeholder]="'Seçiniz'" 
                  [data]="departments" [(ngModel)]="fixedAsset.DepartmentId"
                  name="DepartmentId" [settings]="dropdownSettingsForDepartment" (onSelect)="onSelectDepartment($event)"
                  (onSelectAll)="onSelectAllDepartment($event)">
                </ng-multiselect-dropdown>
                </div>

                <!-- MARKA -->
                <div class="col-md-4 form-group">
                  <label>Marka</label>
                  <ng-multiselect-dropdown [placeholder]="'Seçiniz'" 
                  [data]="brands" [(ngModel)]="fixedAsset.FixedAssetCardBrandId"
                  name="FixedAssetCardBrandId" [settings]="dropdownSettingsForBrand" (onSelect)="onSelectFixedAssetCardBrand($event)"
                  (onSelectAll)="onSelectAllFixedAssetCardBrand($event)">
                </ng-multiselect-dropdown>
                </div>

                <!-- DEMİRBAŞ STATÜSÜ -->
                <div class="col-md-4 form-group">
                  <label>Demirbaş Statüsü</label>
                  <ng-multiselect-dropdown [placeholder]="'Seçiniz'" 
                  [data]="statuses" [(ngModel)]="fixedAsset.StatusId"
                  name="StatusId" [settings]="dropdownSettingsForStatus" (onSelect)="onSelectFixedAssetStatus($event)"
                  (onSelectAll)="onSelectAllFixedAssetStatus($event)">
                </ng-multiselect-dropdown>
                </div>
            </div>

            <!-- LOKASYON, MODEL, PERSONEL, GARANTİSİ BİTENLER -->
            <div class="row justify-content-center">

                <!-- LOKASYON -->
                <div class="col-md-4 form-group">
                  <label>Lokasyon</label>
                  <ng-multiselect-dropdown [placeholder]="'Seçiniz'" 
                  [data]="locations" [(ngModel)]="fixedAsset.LocationId"
                  name="LocationId" [settings]="dropdownSettingsForLocation" (onSelect)="onSelectLocation($event)"
                  (onSelectAll)="onSelectAllLocation($event)">
                </ng-multiselect-dropdown>
                </div>

                <!-- MODEL -->
                <div class="col-md-4 form-group">
                  <label>Model</label>
                  <ng-multiselect-dropdown [placeholder]="'Seçiniz'" 
                  [data]="models" [(ngModel)]="fixedAsset.FixedAssetCardModelId"
                  name="FixedAssetCardModelId" [settings]="dropdownSettingsForModel" (onSelect)="onSelectFixedAssetCardModel($event)"
                  (onSelectAll)="onSelectAllFixedAssetCardModel($event)">
                </ng-multiselect-dropdown>
                </div>

                <!-- PERSONEL -->
                <div class="col-md-4 form-group">
                    <label>Personel</label>
                    <ng-multiselect-dropdown [placeholder]="'Seçiniz'" 
                    [data]="users" [(ngModel)]="fixedAsset.UserId"
                    name="UserId" [settings]="dropdownSettingsForUser" (onSelect)="onSelectUser($event)"
                    (onSelectAll)="onSelectAllUser($event)">
                  </ng-multiselect-dropdown>
                </div>
            </div>

          </fieldset>
        </div>
      </div>

      <!-- DEMİRBAŞ GİRİŞ TARİHİ BAŞLANGIÇ, BİTİŞ -->
      <div class="row justify-content-center">
          <div class="col-md-12 form-group">   
            <fieldset class="field_set">
              <legend class="fieldset_text">Demirbaş Giriş Tarih Aralığı</legend>

              <div class="row justify-content-center">
                
                <!-- DEMİRBAŞ GİRİŞ TARİHİ BAŞLANGIÇ -->                    
                <div class="form-group col-md-6">
                    <div class="input-group">
                      <div class="input-group-append">
                        <div (click)="startDate.toggle()" class="input-group-text">
                          <i class="typcn typcn-calendar-outline tx-24 lh--9 op-6"></i>
                        </div>
                      </div>
                      <input class="form-control" type="text" placeholder="yyyy-mm-dd" name="startDate"
                        [(ngModel)]="fixedAsset.StartDate" ngbDatepicker #startDate="ngbDatepicker" #startDateModel="ngModel"/>
                    </div>
                </div>

                <!-- DEMİRBAŞ GİRİŞ TARİHİ BİTİŞ -->
                <div class="form-group col-md-6">                              
                    <div class="input-group">
                      <div class="input-group-append">
                        <div (click)="endDate.toggle()" class="input-group-text">
                          <i class="typcn typcn-calendar-outline tx-24 lh--9 op-6"></i>
                        </div>
                      </div>
                      <input class="form-control" type="text" placeholder="yyyy-mm-dd" name="endDate" [minDate]="fixedAsset.StartDate"
                        [(ngModel)]="fixedAsset.EndDate" ngbDatepicker #endDate="ngbDatepicker" #endDateModel="ngModel"/>
                    </div>
                </div>
              </div>
          </fieldset>
        </div>
    </div>
            
     
        <!-- ÖZELLİK TİPİ, ÖZELLİK DEĞERİ, ÖZELLİK TABLOSU -->
        <div class="row justify-content-center">
          <div class="col-md-12 form-group">   
            <fieldset class="field_set">
              <legend class="fieldset_text">Demirbaş Özellikleri</legend>

                <!-- ÖZELLİK TİPİ, ÖZELLİK DEĞERİ -->
                <div class="row justify-content-center">               

                    <!-- ÖZELLİK TİPİ -->
                    <div class="col-md-6">

                    <div class="col-md-12 form-group">
                        <label>Özellik Adı</label>
                        <select #FixedAssetCardPropertyId [(ngModel)]="fixedAssetPropertyDetail.FixedAssetCardPropertyId" name="FixedAssetCardPropertyId" (click)="loadFixedAssetProperties()" (change)="loadValuesByPropertyId($event)" class="form-control select2-no-search" style="width:100%">
                            <option value="-1">Özellik Seçiniz</option>
                            <option *ngFor="let property of fixedassetproperty" value="{{property.FixedAssetCardPropertyId}}">{{property.Name}}</option>
                        </select> 
                    </div>

                    <!-- ÖZELLİK DEĞERİ -->
                    <div class="col-md-12 form-group"> 
                        <label>Özellik Değeri</label>    
                        <div class="flexProperty">        
                            <div style="flex:1;">            
                             <select [(ngModel)]="fixedAssetCardPropertyValue.FixedAssetPropertyValueId" name="FixedAssetPropertyValueId" *ngIf="isListSelected==true" (change)="getPropertyValue($event)" class="form-control select2-no-search" style="font-size: 13px;height: 27px;">
                                  <option [ngValue]="null">Özellik Değeri Seçiniz</option>
                                  <option *ngFor="let value of fixedassetpropertyvalues" value="{{value.Value}}">{{value.Value}}</option>
                             </select> 
                             <input [(ngModel)]="fixedAssetPropertyDetail.Value" name="Value" *ngIf="isListSelected==false"  class="form-control" type="text"
                            style="font-size: 13px;height: 27px;">
                            </div>     
                            <div class="property-add-value">                    
                                <span class="tree-table-sign typcn icon-default typcn-plus" (click)="insertPropertyValueToArray(FixedAssetCardPropertyId)"></span>
                            </div>                          
                          </div>            
                    </div> 

                 </div>
                
        
                <!-- ÖZELLİK TABLOSU -->
                <div class="col-md-6">
                    <div class="property-values-table" style="height: 150px; padding-top:0px;">
                        <tree-grid-table class="table-scroll" style="overflow-y: scroll; margin-left:20px;" [dataTable]="dataTablePropertyValue"></tree-grid-table>
                    </div>
                </div>
            </div>

            </fieldset>
          </div>
        </div>


        <!-- GARANTİSİ OLANLAR, AMORTİSMANI HESAPLANANLAR -->
        <div class="row justify-content-center">
          <div class="col-md-12 form-group">   
            <fieldset class="field_set">
              <legend class="fieldset_text">Genel Bilgiler</legend>
              <div class="row justify-content-center">
  
                <!-- GARANTİSİ OLANLAR -->
                <div class="form-group col-md-3">
                      <label class="ckbox">
                        <input type="checkbox" [(ngModel)]="IsGuaranteed" id="IsGuaranteed" 
                          name="IsGuaranteed"/><span>Garantisi olanlar</span>
                      </label>
                </div>

                <!-- AMORTİSMANI HESAPLANANLAR -->
                <div class="form-group col-md-4">
                    <label class="ckbox">
                      <input type="checkbox" [(ngModel)]="IsCalculatedDepreciation" id="IsCalculatedDepreciation" 
                        name="IsCalculatedDepreciation"/><span>Amortismanı hesaplananlar</span>
                    </label>
                </div>

                <!-- IFRS AMORTİSMANI HESAPLANANLAR -->
                <div class="form-group col-md-5">
                    <label class="ckbox">
                      <input type="checkbox" [(ngModel)]="IsCalculatedIFRSDepreciation" id="IsCalculatedIFRSDepreciation" 
                        name="IsCalculatedIFRSDepreciation"/><span>IFRS Amortismanı Hesaplananlar</span>
                    </label>
                </div>  
              </div>

            </fieldset>
          </div>
        </div>
          

    </div>
 
  <!-- modal-body -->
  <div class="modal-footer">
    <button
      class="btn btn-az-primary"
      id="btnFilterFixedAsset"
      type="submit"
      data-toggle="modal"
      data-target="#modalFilterFixedAsset"
    >
     Filtrele
    </button>
  </div>
</form>
