<div class="az-content az-content-dashboard-four">
  <div class="media media-dashboard">
    <div class="media-body">
      <!-- Bread Crumb -->
      <div class="az-content-breadcrumb">
        <span>DEMİRBAŞ YÖNETİMİ</span>
        <span>HAREKET LİSTESİ</span>
      </div>
      <!-- END Bread Crumb END -->
      <div class="card card-dashboard-twelve mg-b-20">
        <div class="card-header">
          <h2 class="az-content-title">Hareket Listesi</h2>
          <div class="grp-btn-action">
              
            <button id="btnTransactionInfo" class="btn btn-success btn-excel-custom" style="display:none" data-toggle="modal" data-target="#modalTransactionLogInfo">
            </button>

            <button class="btn btn-success btn-excel-custom" (click)="exportAsExcelFile(dataTable)" style="margin-right:10px">
              <i [ngClass]="{'far fa-file-excel':isTableExporting == false}"
                [class.btn-refresh-loader]="isTableExporting == true"></i>
            </button>

            <button type="button" (click)="refreshTable()" style="margin-right:0" 
              class="btn btn-success btn-refresh-custom">
              <i [ngClass]="{'fas fa-sync-alt':isTableRefreshing== false}"
                [class.btn-refresh-loader]="isTableRefreshing == true"></i>
            </button>

            <!-- <button class="btn btn-az-primary btn-filter-button"  data-toggle="modal" data-target="#modalTransaction"
            title="Demirbaş Filtreleme" style="margin-left:10px">
            <i class="fas fa-filter"></i>
            </button> -->

          </div>
        </div>
        <div class="sales-overview" style="flex-direction:column">
          <tree-grid-table (onDoubleClickItem)="onDoubleClickItem($event,item)"  [dataTable]="dataTable"></tree-grid-table>
                    <!-- Pagination Side -->
                    <div class="table-pagination">
                        <!-- Per In Page Select area -->
                        <select class="table-pagination-select" (change)="loadTransactionList(perInPage,1)" [(ngModel)]="perInPage">
                          <option *ngFor="let perIn of dataTable.perInPages" value="{{perIn}}">{{perIn}}</option>
                          <option value="1000">Hepsi</option>
                        </select>
                        <!-- END Per In Page Select area END -->
                        <!-- Paginations -->
                        <nav class="pagination-nav">
                          <ul class="pagination">
                            <ng-container *ngFor="let page of pages">
                              <li class="page-item" [class.disabled]="page.isDisabled" [class.active]="page.isActive"><button
                                  (click)="loadTransactionList(perInPage,page.value)" class="page-link">{{page.display}}</button>
                              </li>
                            </ng-container>
                          </ul>
                        </nav>
                        <!-- END Paginations END -->
                      </div>
                      <!-- END Pagination Side END -->
        </div>
      </div>
    </div>
    <!-- az-content-body -->
  </div>
</div>
<!-- az-content -->

<div id="modalTransactionLogInfo" class="modal" data-backdrop="static">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content modal-content-demo" style="width: 900px;">
        <div class="modal-header">
          <h6 class="modal-title">Hareket Bilgileri</h6>
          <button id="CloseModal" type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">      
          <fieldset  class="field_set">
            <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="row">
                    <div class="form-group col-md-6">
                        <label>Barkod :</label>
                    </div>
                    <div class="col-md-6">
                        <span>{{transaction.Barcode}}</span> 
                    </div> 
                </div>
              </div>
              <div class="col-md-6">
                <div class="row">
                    <div class="form-group col-md-6">
                      <label>Hareket Tipi :</label>
                      </div>
                      <div class="col-md-6">
                        <span>{{transaction.TransactionTypeName}}</span>
                      </div>
                </div>
              </div>
              </div> 
              <div class="row justify-content-center">
                  <div class="col-md-6">
                    <div class="row">
                        <div class="form-group col-md-6">
                            <label>İşlemin Gerçekleştiği Tarih :</label>
                        </div>
                        <div class="col-md-6">
                            <span>{{transaction.TransactionDate ? transaction.TransactionDate.substring(0, 10).split("-").reverse().join("-") : ""}}</span> 
                        </div> 
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="row">
                        <div class="form-group col-md-6">
                          <label>İşlemi Gerçekleştiren Kullanıcı :</label>
                          </div>
                          <div class="col-md-6">
                            <span>{{transaction.UserName}}</span>
                          </div>
                    </div>
                  </div>
              </div>
          </fieldset>

      
            <div class="row justify-content-center">            
              <div class="col-md-6">
                  <fieldset  class="field_set" [hidden]="hideToFixedAsset == true || hideFromFixedAsset == true">
                      <legend>Eski</legend>
                      <!-- *ngIf="transaction.ExistingBarcode" -->
                  <div class="row" >
                      <div class="form-group col-md-6">
                          <label>Barkod :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.ExistingBarcode}}</span> 
                      </div> 
                  </div>
                  <!-- *ngIf="transaction.FromFixedAssetCardCategoryName" -->
                  <div class="row" >
                      <div class="form-group col-md-6">
                          <label>Demirbaş Kategorisi :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.FromFixedAssetCardCategoryName}}</span> 
                      </div> 
                  </div>
                  <!-- *ngIf="transaction.FromFixedAssetCardName" -->
                  <div class="row" >
                      <div class="form-group col-md-6">
                          <label>Demirbaş Kartı :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.FromFixedAssetCardName}}</span> 
                      </div> 
                  </div>
                  <!-- *ngIf="transaction.FromLocationName" -->
                  <div class="row" >
                      <div class="form-group col-md-6">
                          <label>Lokasyon :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.FromLocationName}}</span> 
                      </div> 
                  </div>
                  <!-- *ngIf="transaction.FromDepartmentName" -->
                  <div class="row" >
                      <div class="form-group col-md-6">
                          <label>Departman :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.FromDepartmentName}}</span> 
                      </div> 
                  </div>
                  <div class="row" *ngIf="transaction.FromCompanyName">
                      <div class="form-group col-md-6">
                          <label>Tedarikçi :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.FromCompanyName}}</span> 
                      </div> 
                  </div>
                  <div class="row" *ngIf="transaction.FromInsuranceCompanyName">
                      <div class="form-group col-md-6">
                          <label>Sigorta Şirketi :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.FromInsuranceCompanyName}}</span> 
                      </div> 
                  </div>
                  <!-- *ngIf="transaction.FromUserName" -->
                  <div class="row">
                      <div class="form-group col-md-6">
                          <label>Zimmetli Kullanıcı :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.FromUserName}}</span> 
                      </div> 
                  </div>
                  <div class="row" *ngIf="transaction.FromSerialNumber">
                      <div class="form-group col-md-6">
                          <label>Seri Numarası :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.FromSerialNumber}}</span> 
                      </div> 
                  </div>
                  <!-- *ngIf="transaction.FromStatusName" -->
                  <div class="row" >
                      <div class="form-group col-md-6">
                          <label>Demirbaş Statüsü :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.FromStatusName}}</span> 
                      </div> 
                  </div>
                  <div class="row" *ngIf="transaction.FromBrandName">
                      <div class="form-group col-md-6">
                          <label>Marka :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.FromBrandName}}</span> 
                      </div> 
                  </div>
                  <div class="row" *ngIf="transaction.FromModelName">
                      <div class="form-group col-md-6">
                          <label>Model :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.FromModelName}}</span> 
                      </div> 
                  </div>
                  <div class="row" *ngIf="transaction.FromExpenseCenterName">
                      <div class="form-group col-md-6">
                          <label>Masraf Merkezi :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.FromExpenseCenterName}}</span> 
                      </div> 
                  </div>
                  <div class="row" *ngIf="transaction.FromInvoiceNo">
                      <div class="form-group col-md-6">
                          <label>Fatura Numarası :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.FromInvoiceNo}}</span> 
                      </div> 
                  </div>
                  <div class="row" *ngIf="transaction.FromInvoiceDate">
                      <div class="form-group col-md-6">
                          <label>Fatura Tarihi :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.FromInvoiceDate}}</span> 
                      </div> 
                  </div>
                  <div class="row" *ngIf="transaction.FromGuaranteeStartDate">
                      <div class="form-group col-md-6">
                          <label>Garanti Başlangıç Tarihi :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.FromGuaranteeStartDate}}</span> 
                      </div> 
                  </div>
                  <div class="row" *ngIf="transaction.FromGuaranteeEndDate">
                      <div class="form-group col-md-6">
                          <label>Garanti Bitiş Tarihi:</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.FromGuaranteeEndDate}}</span> 
                      </div> 
                  </div>
                  <div class="row" *ngIf="transaction.FixedAssetIsActive">
                      <div class="form-group col-md-6">
                          <label>Aktiflik Durumu:</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.FixedAssetIsActive}}</span> 
                      </div> 
                  </div>
                  <div class="row" *ngIf="transaction.FromCompanyName">
                      <div class="form-group col-md-6">
                          <label>Tedarikçi :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.FromCompanyName}}</span> 
                      </div> 
                  </div>
                  <div class="row" *ngIf="transaction.FromFirmId">
                      <div class="form-group col-md-6">
                          <label>Firma :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.FromFirmId}}</span> 
                      </div> 
                  </div>
                </fieldset>
              </div>           
            
              <div class="col-md-6">
                  <fieldset  class="field_set" [hidden]="hideToFixedAsset == true || hideFromFixedAsset == true">
                      <legend>Güncel</legend>
                      <!-- *ngIf="transaction.ToFixedAssetCardCategoryName" -->
                  <div class="row" >
                      <div class="form-group col-md-6">
                          <label>Demirbaş Kategorisi :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.ToFixedAssetCardCategoryName}}</span> 
                      </div> 
                  </div>
                  <!-- *ngIf="transaction.NewBarcode" -->
                  <div class="row">
                      <div class="form-group col-md-6">
                          <label>Barkod :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.NewBarcode}}</span> 
                      </div> 
                  </div>
                  <!-- *ngIf="transaction.ToFixedAssetCardName" -->
                  <div class="row" >
                      <div class="form-group col-md-6">
                          <label>Demirbaş Kartı :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.ToFixedAssetCardName}}</span> 
                      </div> 
                  </div>

                  <!-- *ngIf="transaction.ToLocationName" -->
                  <div class="row" >
                      <div class="form-group col-md-6">
                          <label>Lokasyon :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.ToLocationName}}</span> 
                      </div> 
                  </div>

                  <!-- *ngIf="transaction.ToDepartmentName" -->
                  <div class="row" >
                      <div class="form-group col-md-6">
                          <label>Departman :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.ToDepartmentName}}</span> 
                      </div> 
                  </div>

                  <div class="row" *ngIf="transaction.ToCompanyName">
                      <div class="form-group col-md-6">
                          <label>Tedarikçi :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.ToCompanyName}}</span> 
                      </div> 
                  </div>

                  <div class="row" *ngIf="transaction.ToInsuranceCompanyName">
                      <div class="form-group col-md-6">
                          <label>Sigorta Şirket :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.ToInsuranceCompanyName}}</span> 
                      </div> 
                  </div>

                  <!-- *ngIf="transaction.ToUserName" -->
                  <div class="row" >
                      <div class="form-group col-md-6">
                          <label>Zimmetli Kullanıcı :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.ToUserName}}</span> 
                      </div> 
                  </div>

                  <div class="row" *ngIf="transaction.ToSerialNumber">
                      <div class="form-group col-md-6">
                          <label>Seri Numarası :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.ToSerialNumber}}</span> 
                      </div> 
                  </div>

                  <!-- *ngIf="transaction.ToStatusName" -->
                  <div class="row">
                      <div class="form-group col-md-6">
                          <label>Demirbaş Statüsü :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.ToStatusName}}</span> 
                      </div> 
                  </div>

                  <div class="row" *ngIf="transaction.ToBrandName">
                      <div class="form-group col-md-6">
                          <label>Marka :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.ToBrandName}}</span> 
                      </div> 
                  </div>

                  <div class="row" *ngIf="transaction.ToModelName">
                      <div class="form-group col-md-6">
                          <label>Model :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.ToModelName}}</span> 
                      </div> 
                  </div>

                  <div class="row" *ngIf="transaction.ToExpenseCenterName">
                      <div class="form-group col-md-6">
                          <label>Masraf Merkezi :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.ToExpenseCenterName}}</span> 
                      </div> 
                  </div>

                  <div class="row" *ngIf="transaction.ToInvoiceNo">
                      <div class="form-group col-md-6">
                          <label>Fatura Numarası :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.ToInvoiceNo}}</span> 
                      </div> 
                  </div>

                  <div class="row" *ngIf="transaction.ToInvoiceDate">
                      <div class="form-group col-md-6">
                          <label>Fatura Tarihi :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.ToInvoiceDate}}</span> 
                      </div> 
                  </div>

                  <div class="row" *ngIf="transaction.ToGuaranteeStartDate">
                      <div class="form-group col-md-6">
                          <label>Garanti Başlangıç Tarihi :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.ToGuaranteeStartDate}}</span> 
                      </div> 
                  </div>

                  <div class="row" *ngIf="transaction.ToGuaranteeEndDate">
                      <div class="form-group col-md-6">
                          <label>Garanti Bitiş Tarihi:</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.ToGuaranteeEndDate}}</span> 
                      </div> 
                  </div>

                  <div class="row" *ngIf="transaction.FixedAssetIsActive">
                      <div class="form-group col-md-6">
                          <label>Aktiflik Durumu:</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.FixedAssetIsActive}}</span> 
                      </div> 
                  </div>

                  <div class="row" *ngIf="transaction.ToCompanyName">
                      <div class="form-group col-md-6">
                          <label>Tedarikçi :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.ToCompanyName}}</span> 
                      </div> 
                  </div>

                  <div class="row" *ngIf="transaction.ToFirmName">
                      <div class="form-group col-md-6">
                          <label>Firma :</label>
                      </div>
                      <div class="col-md-6">
                          <span>{{transaction.ToFirmName}}</span> 
                      </div> 
                  </div>
                  
                  </fieldset>
              </div>
            </div>

            <fieldset class="field_set"   style = "margin-top: 8px;" [hidden]="hideCheckOutReason == true">
              <legend>Çıkış Hareketleri</legend>
                <div class="row justify-content-center">
                    <div class="col-md-6">
                        <div class="row" >
                            <div class="form-group col-md-6">
                                <label>Çıkış Nedeni :</label>
                            </div>
                            <div class="col-md-6">
                                <span>{{transaction.CheckOutDescription}}</span> 
                            </div> 
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="row">
                            <div class="form-group col-md-6">
                                <label>Çıkış Lokasyonu :</label>
                            </div>
                            <div class="col-md-6">
                                <span>{{transaction.CheckOutLocationName}}</span> 
                            </div> 
                        </div>
                    </div>
                </div>
                <div class="row justify-content-center">
                    <div class="col-md-6" >
                        <div class="row">
                            <div class="form-group col-md-6">
                                <label>Satış Bedeli :</label>
                            </div>
                            <div class="col-md-6">
                                <span>{{transaction.CheckOutPrice}}</span> 
                            </div> 
                        </div>
                    </div>
                    <div class="col-md-6" >
                        <div class="row" >
                            <div class="form-group col-md-6">
                                <label>Beklenen Dönüş Tarihi :</label>
                            </div>
                            <div class="col-md-6">
                                <span>{{transaction.CheckInExpectedArrivalDate}}</span> 
                            </div> 
                        </div>
                    </div>
                </div>
                <div class="row justify-content-center">
                    <div class="col-md-6">
                        <div class="row" >
                            <div class="form-group col-md-6">
                                <label>Askıdan Alma Tarihi :</label>
                            </div>
                            <div class="col-md-6">
                                <span>{{transaction.UndoSuspensionDate}}</span> 
                            </div> 
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="row">
                            <div class="form-group col-md-6">
                                <label></label>
                            </div>
                            <div class="col-md-6">
                                <span></span> 
                            </div> 
                        </div>
                    </div>
                </div>
            </fieldset>

        </div>
          <!-- modal-body -->
          <div class="modal-footer">
            
          </div>     
      </div>
    </div>
    <!-- modal-dialog -->
  </div>